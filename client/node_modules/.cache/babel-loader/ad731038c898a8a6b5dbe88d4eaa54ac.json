{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\mbds\\\\Desktop\\\\Restaurants-Oualid\\\\client\\\\src\\\\components\\\\restaurants.js\";\nimport React from \"react\";\nimport Table from \"./table\";\n\nclass Restaurants extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.indexPage = indexPagechild => {\n      this.state.indexOfPage = indexPagechild;\n      this.getRestaurants();\n    };\n\n    this.pageSize = pageSizeChild => {\n      this.state.sizeOfPage = pageSizeChild;\n      this.getRestaurants();\n    };\n\n    this.state = {\n      restaurants: [],\n      nbRestaurants: 0,\n      sizeOfPage: 50,\n      indexOfPage: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getRestaurants();\n  }\n\n  getRestaurants() {\n    var url = \"http://localhost:8080/api/restaurants?page=\" + this.state.indexOfPage + \"&pagesize=\" + this.state.sizeOfPage;\n    fetch(url).then(res => res.json()).then(resultat => {\n      this.setState({\n        nbRestaurants: resultat.count,\n        restaurants: resultat.data\n      });\n      console.log(\"ok\");\n    }).catch(error => {\n      this.setState({\n        error\n      });\n      console.log(error);\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Table, {\n      titre: \"TP Restaurants\",\n      data: this.state.restaurants,\n      rowsPerPage: this.state.sizeOfPage,\n      parrentCallbackIndexPage: index => this.indexPage(index),\n      parrentCallbackPageSize: size => this.pageSize(size),\n      nbRestaurant: this.state.nbRestaurants,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Restaurants;","map":{"version":3,"sources":["C:\\Users\\mbds\\Desktop\\Restaurants-Oualid\\client\\src\\components\\restaurants.js"],"names":["React","Table","Restaurants","Component","constructor","props","indexPage","indexPagechild","state","indexOfPage","getRestaurants","pageSize","pageSizeChild","sizeOfPage","restaurants","nbRestaurants","componentDidMount","url","fetch","then","res","json","resultat","setState","count","data","console","log","catch","error","render","index","size"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,SAAlB;;AAEA,MAAMC,WAAN,SAA0BF,KAAK,CAACG,SAAhC,CAA0C;AACxCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AADiB,SAsCnBC,SAtCmB,GAsCPC,cAAc,IAAI;AAC5B,WAAKC,KAAL,CAAWC,WAAX,GAAyBF,cAAzB;AACA,WAAKG,cAAL;AACD,KAzCkB;;AAAA,SA2CnBC,QA3CmB,GA2CRC,aAAa,IAAI;AAC1B,WAAKJ,KAAL,CAAWK,UAAX,GAAwBD,aAAxB;AACA,WAAKF,cAAL;AACD,KA9CkB;;AAEjB,SAAKF,KAAL,GAAa;AACXM,MAAAA,WAAW,EAAE,EADF;AAEXC,MAAAA,aAAa,EAAE,CAFJ;AAGXF,MAAAA,UAAU,EAAE,EAHD;AAIXJ,MAAAA,WAAW,EAAE;AAJF,KAAb;AAMD;;AAEDO,EAAAA,iBAAiB,GAAG;AAClB,SAAKN,cAAL;AACD;;AAEDA,EAAAA,cAAc,GAAG;AACf,QAAIO,GAAG,GAAG,gDACR,KAAKT,KAAL,CAAWC,WADH,GAER,YAFQ,GAGR,KAAKD,KAAL,CAAWK,UAHb;AAKAK,IAAAA,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADf,EAEGF,IAFH,CAEQG,QAAQ,IAAI;AAChB,WAAKC,QAAL,CAAc;AAEZR,QAAAA,aAAa,EAAEO,QAAQ,CAACE,KAFZ;AAGZV,QAAAA,WAAW,EAAEQ,QAAQ,CAACG;AAHV,OAAd;AAKEC,MAAAA,OAAO,CAACC,GAAR,CAAY,IAAZ;AACD,KATL,EAUGC,KAVH,CAUSC,KAAK,IAAI;AACd,WAAKN,QAAL,CAAc;AACZM,QAAAA;AADY,OAAd;AAGEH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACH,KAfH;AAgBD;;AAaDC,EAAAA,MAAM,GAAG;AACP,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,KAAK,EAAE,gBADT;AAEE,MAAA,IAAI,EAAE,KAAKtB,KAAL,CAAWM,WAFnB;AAGE,MAAA,WAAW,EAAE,KAAKN,KAAL,CAAWK,UAH1B;AAIE,MAAA,wBAAwB,EAAEkB,KAAK,IAAI,KAAKzB,SAAL,CAAeyB,KAAf,CAJrC;AAKE,MAAA,uBAAuB,EAAEC,IAAI,IAAI,KAAKrB,QAAL,CAAcqB,IAAd,CALnC;AAME,MAAA,YAAY,EAAE,KAAKxB,KAAL,CAAWO,aAN3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,CADF;AAYD;;AA/DuC;;AAiE1C,eAAeb,WAAf","sourcesContent":["import React from \"react\";\nimport Table from \"./table\";\n\nclass Restaurants extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      restaurants: [],\n      nbRestaurants: 0,\n      sizeOfPage: 50,\n      indexOfPage: 0\n    };\n  }\n\n  componentDidMount() {\n    this.getRestaurants();\n  }\n\n  getRestaurants() {\n    var url = \"http://localhost:8080/api/restaurants?page=\" +\n      this.state.indexOfPage +\n      \"&pagesize=\" +\n      this.state.sizeOfPage;\n\n    fetch(url)\n      .then(res => res.json())\n      .then(resultat => {\n        this.setState({\n\n          nbRestaurants: resultat.count,\n          restaurants: resultat.data\n          });\n          console.log(\"ok\");\n        })\n      .catch(error => {\n        this.setState({\n          error\n          });\n          console.log(error);\n      })\n  }\n\n  indexPage = indexPagechild => {\n    this.state.indexOfPage = indexPagechild;\n    this.getRestaurants();\n  };\n\n  pageSize = pageSizeChild => {\n    this.state.sizeOfPage = pageSizeChild;\n    this.getRestaurants();\n  };\n\n  \n  render() {\n    return (\n      <div>\n        <Table\n          titre={\"TP Restaurants\"}\n          data={this.state.restaurants}\n          rowsPerPage={this.state.sizeOfPage}\n          parrentCallbackIndexPage={index => this.indexPage(index)}\n          parrentCallbackPageSize={size => this.pageSize(size)}\n          nbRestaurant={this.state.nbRestaurants}\n        ></Table>\n      </div>\n    );\n  }\n}\nexport default Restaurants;\n"]},"metadata":{},"sourceType":"module"}